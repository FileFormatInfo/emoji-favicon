---
title: Favicons from Noto Emoji
layout: default
---

<div class="row  justify-content-center">
    <div class="col-sm-5">
        <form>
            <div class="input-group mb-3">
                <input type="text" class="form-control" placeholder="query" aria-label="Recipient's username" aria-describedby="button-addon2">
                <button class="btn btn-primary" type="button" id="search-btn">Search</button>
            </div>
        </form>
    </div>
</div>

<div class="row">
    <div class="col">
        <h2 id="results-h2"></h2>
        <div id="results">

        </div>
    </div>
</div>

<div class="row mt-3">
    <div class="col">
        <table class="table table-bordered" style="width:auto;">
            <tr>
                <td>Repository</td>
                <td id="repo">Pending...</td>
            </tr>
            <tr>
                <td>License</td>
                <td id="license">Pending...</td>
            </tr>
            <tr>
                <td># of favicons</td>
                <td id="count">Pending...</td>
            </tr>
            <tr>
                <td>Last updated</td>
                <td id="lastmodified">Pending...</td>
            </tr>
        </table>
    </div>
</div>

<script>
    let icons = null;

    function getRandomInt(min, max) {
        min = Math.ceil(min);
        max = Math.floor(max);
        return Math.floor(Math.random() * (max - min) + min); //The maximum is exclusive and the minimum is inclusive
    }

    function randomIcons() {
        const results = document.querySelector("#results");
        while(results.firstChild) {
            results.removeChild(results.firstChild);
        }


        for (var loop = 0; loop < 30; loop++) {
            const index = getRandomInt(0, icons.data.length);
            img = document.createElement("img");
            img.src = icons.data[index].icon;
            results.appendChild(img);
        }
        const results_h2 = document.querySelector("#results-h2");
        results_h2.textContent = "Random Selection";

        const refresh = document.createElement("button");
        refresh.classList.add("btn");
        refresh.classList.add("btn-primary");
        refresh.classList.add("ms-3");
        refresh.textContent = "Refresh";
        refresh.onclick = randomIcons;
        results_h2.appendChild(refresh);
    }

    fetch('index.json')
        .then(response => response.json())
        .then(data => {
            icons = data;

            document.querySelector("#count").textContent = icons.count;
            document.querySelector("#lastmodified").textContent = icons.lastmodified;

            randomIcons();
        });

</script>

